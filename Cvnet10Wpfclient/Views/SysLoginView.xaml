<helpers:BaseWindow x:Class="Cvnet10Wpfclient.Views.SysLoginView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:behaviors="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:Cvnet10Wpfclient.Views"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="clr-namespace:Cvnet10Wpfclient.ViewModels"
    xmlns:helpers="clr-namespace:Cvnet10Wpfclient.Helpers"
    Title="{Binding Title}"
    Width="1000"
    Height="740"
    FontSize="19"
    mc:Ignorable="d">
    <helpers:BaseWindow.DataContext>
        <vm:SysLoginViewModel />
    </helpers:BaseWindow.DataContext>
    <helpers:BaseWindow.InputBindings>
        <KeyBinding Command="{Binding DoUpdateCommand}" Gesture="F2" />
        <KeyBinding Command="{Binding DoDeleteCommand}" Gesture="F3" />
        <KeyBinding Command="{Binding DoInsertCommand}" Gesture="F4" />
        <KeyBinding Command="{Binding DoListCommand}" Gesture="F5" />
        <KeyBinding Command="{Binding DoSelShainCommand}" Gesture="F6" />
    </helpers:BaseWindow.InputBindings>
    <Grid x:Name="grid0" Background="{DynamicResource AppCommonBackgroundBrush}">
        <!-- 配置が確定してから
        <Viewbox Stretch="Uniform">
        </Viewbox>
        -->
        <Grid Width="{Binding ActualWidth, ElementName=grid0, Mode=OneWay}" Height="{Binding ActualHeight, ElementName=grid0, Mode=OneWay}">
            <Grid.RowDefinitions>
                <RowDefinition Height="12*" />
                <RowDefinition Height="Auto" />
                <RowDefinition Height="88*" />
            </Grid.RowDefinitions>
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="45*" />
                <ColumnDefinition Width="Auto" />
                <ColumnDefinition Width="55*" />
            </Grid.ColumnDefinitions>
            <Grid Grid.Row="0" Grid.Column="0">
                <Button
                    Width="70"
                    Height="30"
                    Margin="10,10,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Background="Gray"
                    Command="{Binding ExitCommand}"
                    Content="閉じる" />
                <Button
                    Width="110"
                    Height="30"
                    Margin="106,10,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Command="{Binding DoListCommand}"
                    Content="一覧取得 F5" />
                <Button
                    Width="100"
                    Height="30"
                    Margin="242,10,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Command="{Binding DoOutputJsonCommand}"
                    Content="JSON出力" />
                <Label
                    Height="34"
                    Margin="20,49,99,0"
                    VerticalAlignment="Top"
                    d:Content="Title"
                    Content="{Binding Title, RelativeSource={RelativeSource FindAncestor, AncestorType=Window}}"
                    FontSize="14" />
                <materialDesign:PackIcon
                    Width="62"
                    Height="70"
                    Margin="362,10,0,0"
                    Foreground="Blue"
                    Kind="AccountKey" />
            </Grid>
            <GridSplitter
                Grid.Row="1"
                Grid.ColumnSpan="3"
                Height="3"
                Margin="0,0,0,0"
                HorizontalAlignment="Stretch"
                VerticalAlignment="Center"
                Background="DarkGray" />
            <GridSplitter
                Grid.RowSpan="3"
                Grid.Column="1"
                Width="3"
                Margin="0,0,0,0"
                HorizontalAlignment="Center"
                VerticalAlignment="Stretch"
                Background="DarkGray" />
            <Grid Grid.Row="2" Grid.Column="0">
                <DataGrid Background="{DynamicResource AppCommonBackgroundBrush}"
                    d:ItemsSource="{d:SampleData ItemCount=5}"
                    AutoGenerateColumns="False"
                    FrozenColumnCount="1"
                    IsReadOnly="True"
                    IsSynchronizedWithCurrentItem="True"
                    ItemsSource="{Binding ListData}"
                    SelectedItem="{Binding Current}">
                    <DataGrid.ColumnHeaderStyle>
                        <Style TargetType="DataGridColumnHeader">
                            <Setter Property="Background" Value="Black" />
                            <Setter Property="BorderBrush" Value="White" />
                            <Setter Property="BorderThickness" Value="1" />
                            <Setter Property="Foreground" Value="white" />
                        </Style>
                    </DataGrid.ColumnHeaderStyle>
                    <DataGrid.Columns>
                        <!--  LoginId,ExpDate,LastDate,CryptPassword,Id,Vdc,Vdu,Id_Shain,Id_Role  -->
                        <DataGridTextColumn Binding="{Binding LoginId}" Header="Login ID" />
                        <DataGridTextColumn Binding="{Binding ExpDate}" Header="有効期限" />
                        <DataGridTextColumn Binding="{Binding LastDate}" Header="最終ログイン" />
                        <DataGridTextColumn Binding="{Binding CryptPassword}" Header="パスワード" />
                        <DataGridTextColumn Binding="{Binding VdateC}" Header="作成日" />
                        <DataGridTextColumn Binding="{Binding VdateU}" Header="修正日" />
                        <DataGridTextColumn Binding="{Binding Id}" Header="Id" />
                        <DataGridTextColumn Binding="{Binding Id_Shain}" Header="社員Id" />
                        <DataGridTextColumn Binding="{Binding Id_Role}" Header="グループId" />
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
            <Grid Grid.Row="0" Grid.Column="2">
                <Button
                    Width="100"
                    Height="30"
                    Margin="10,10,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Background="Purple"
                    Command="{Binding DoUpdateCommand}"
                    Content="修正 F2" />
                <Button
                    Width="100"
                    Height="30"
                    Margin="130,10,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Background="Purple"
                    Command="{Binding DoDeleteCommand}"
                    Content="削除 F3" />
                <Button
                    Width="100"
                    Height="30"
                    Margin="250,10,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Background="Purple"
                    Command="{Binding DoInsertCommand}"
                    Content="追加 F4" />
                <Label
                    Height="40"
                    Margin="383,10,0,0"
                    VerticalAlignment="Top"
                    d:Content="4567"
                    Content="{Binding Count}"
                    ContentStringFormat="{}件数={0:N0}" />
                <Label
                    Height="34"
                    Margin="24,55,0,0"
                    VerticalAlignment="Top"
                    d:Content="4567"
                    Content="{Binding Desc0}"
                    FontSize="14" />
            </Grid>
            <Grid Grid.Row="2" Grid.Column="2">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="30*" />
                    <ColumnDefinition Width="70*" />
                </Grid.ColumnDefinitions>
                <Label
                    Height="40"
                    Margin="15,20,0,0"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Top"
                    Content="Login ID" />
                <Label
                    Height="40"
                    Margin="15,77,0,0"
                    VerticalAlignment="Top"
                    Content="パスワード" />
                <Label
                    Height="40"
                    Margin="15,160,0,0"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Top"
                    Content="有効期限" />
                <Label
                    Height="40"
                    Margin="15,230,0,0"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Top"
                    Content="Group" />
                <Label
                    Height="40"
                    Margin="15,360,0,0"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Top"
                    Content="最終ログイン" />
                <Label
                    Height="40"
                    Margin="15,434,0,0"
                    VerticalAlignment="Top"
                    Content="作成日/修正日" />
                <TextBox
                    Grid.Column="1"
                    Height="40"
                    Margin="10,20,10,0"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Top"
                    d:Text="コード：デザイン画面"
                    Text="{Binding CurrentEdit.LoginId}"
                    TextWrapping="Wrap" Foreground="{DynamicResource MaterialDesignBody}" />
                <TextBox
                    Grid.Column="1"
                    Height="40"
                    Margin="10,90,10,0"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Top"
                    d:Text="名前：デザイン画面"
                    Text="{Binding CurrentEdit.CryptPassword}"
                    TextWrapping="Wrap" Foreground="{DynamicResource MaterialDesignBody}" />
                <TextBox
                    Grid.Column="1"
                    Height="40"
                    Margin="10,160,10,0"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Top"
                    d:Text="202612311000"
                    Text="{Binding CurrentEdit.ExpDate, Converter={StaticResource DateTimeYmdHmsConverter}}"
                    TextWrapping="Wrap" Foreground="{DynamicResource MaterialDesignBody}" />
                <TextBox
                    Grid.Column="1"
                    Width="60"
                    Height="40"
                    Margin="10,230,10,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    HorizontalContentAlignment="Right"
                    d:Text="123"
                    IsReadOnly="True"
                    Text="{Binding CurrentEdit.Id_Role}"
                    TextWrapping="Wrap" Foreground="{DynamicResource MaterialDesignBody}" />
                <TextBox
                    Grid.Column="1"
                    Height="40"
                    Margin="10,360,10,0"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Top"
                    d:Text="有効期限：デザイン画面"
                    IsReadOnly="True"
                    Text="{Binding LastLoginDate}"
                    TextWrapping="Wrap" Foreground="{DynamicResource MaterialDesignBody}" />
                <!--
                <TextBox Grid.Column="1" Height="40" Margin="10,300,10,0" TextWrapping="Wrap" Text="{Binding Current.VdateC,StringFormat={}{0}}" d:Text="作成日/修正日" VerticalAlignment="Top" HorizontalAlignment="Stretch"/>
                -->
                <TextBox
                    Grid.Column="1"
                    Width="70"
                    Height="40"
                    Margin="10,300,10,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    HorizontalContentAlignment="Right"
                    d:Text="123456"
                    IsReadOnly="True"
                    Text="{Binding CurrentEdit.Id_Shain}"
                    TextWrapping="Wrap" Foreground="{DynamicResource MaterialDesignBody}" />
                <TextBox
                    Grid.Column="1"
                    Height="40"
                    Margin="100,300,10,0"
                    VerticalAlignment="Top"
                    HorizontalContentAlignment="Left"
                    d:Text="区分名"
                    IsReadOnly="True"
                    TextWrapping="Wrap" Foreground="{DynamicResource MaterialDesignBody}" >
                    <TextBox.Text>
                        <MultiBinding StringFormat="{}{0} {1}">
                            <Binding Path="CurrentEdit.Code_Shain" />
                            <Binding Path="CurrentEdit.Mei_Shain" />
                        </MultiBinding>
                    </TextBox.Text>
                    
                </TextBox>
                <Button
                    Width="100"
                    Height="30"
                    Margin="20,0,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Center"
                    Command="{Binding DoSelShainCommand}"
                    Content="社員 F6" />
                <TextBlock
                    Grid.Column="1"
                    Margin="10,440,10,0"
                    HorizontalAlignment="Stretch"
                    VerticalAlignment="Top"
                    Foreground="{DynamicResource MaterialDesignBody}"
                    FontSize="16">
                    <TextBlock.Text>
                        <MultiBinding StringFormat="{} {0} - {1}">
                            <Binding Path="CurrentEdit.VdateC" />
                            <Binding Path="CurrentEdit.VdateU" />
                        </MultiBinding>
                    </TextBlock.Text>
                    <d:TextBlock.Text>aaaaaaaaaaa - bbbbbbbbbbbbb</d:TextBlock.Text>
                </TextBlock>
                <Label
                    Grid.Column="1"
                    Height="40"
                    Margin="141,230,0,0"
                    VerticalAlignment="Top"
                    d:Content="ID"
                    Content="{Binding CurrentEdit.Id}"
                    ContentStringFormat="{}Id={0}" />
                <Button
                    Width="100"
                    Height="30"
                    Margin="20,114,0,0"
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Command="{Binding DoSetPassCommand}"
                    Content="パス暗号化" />
            </Grid>



        </Grid>

    </Grid>
</helpers:BaseWindow>
